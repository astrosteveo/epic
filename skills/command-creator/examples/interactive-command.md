# Example: Interactive Configuration Command

This example demonstrates a command that gathers user input during execution.

## The Command

**File**: `commands/init-config.md`

```markdown
---
description: Initialize project configuration
allowed-tools:
  - Read
  - Write
  - AskUserQuestion
  - Glob
---

Initialize or update project configuration.

## Configuration Discovery

First, check what configuration already exists:
- `.env` / `.env.example`
- `config/` directory
- Framework-specific configs

## Gather Requirements

Use AskUserQuestion to gather configuration choices:

### 1. Environment Type
Question: "What type of environment are you configuring?"
Options:
- Development (local development settings)
- Staging (pre-production testing)
- Production (live environment)

### 2. Features to Enable
Question: "Which features should be enabled?" (multi-select)
Options:
- Database connection
- Redis/caching
- Email service
- File storage (S3/GCS)
- Authentication provider

### 3. For Each Enabled Feature

**Database**:
- Type: PostgreSQL / MySQL / SQLite
- Connection string format to use

**Caching**:
- Redis URL format
- Cache TTL defaults

**Email**:
- Provider: SendGrid / SES / SMTP
- Required credentials

**Storage**:
- Provider: S3 / GCS / Local
- Bucket configuration

**Auth**:
- Provider: Auth0 / Cognito / Custom
- Required configuration keys

## Configuration Generation

Based on responses, generate:

### 1. Environment Template
Create `.env.example` with:
```
# Generated by /init-config
# Environment: [selected environment]

# [Section comments for each feature]
FEATURE_VAR=placeholder
```

### 2. Configuration Validation Schema
If using TypeScript, create `config/schema.ts`:
```typescript
// Type-safe configuration with validation
```

### 3. Documentation
Update or create `docs/configuration.md` with:
- Required environment variables
- How to obtain credentials
- Default values and their meanings

## Output

Provide:
1. List of files created/updated
2. Required secrets that need to be set
3. Links to provider documentation for obtaining credentials
4. Command to validate configuration: `npm run config:validate`
```

## Why This Command Is Well-Structured

1. **Includes AskUserQuestion**: Properly uses interactive tool
2. **Structured Questions**: Clear options with descriptions
3. **Conditional Logic**: Asks follow-ups based on selections
4. **Multiple Outputs**: Generates related files together
5. **Documentation**: Creates config docs alongside config files
6. **Validation**: Provides way to verify configuration
